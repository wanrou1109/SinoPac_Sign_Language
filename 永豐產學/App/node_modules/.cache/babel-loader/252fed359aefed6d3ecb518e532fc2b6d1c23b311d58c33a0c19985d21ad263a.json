{"ast":null,"code":"var _jsxFileName = \"/Users/johnsonleong/Desktop/DS/DS/Grade project/SinoPac_Sign_Language/\\u6C38\\u8C50\\u7522\\u5B78/App/src/components/FeedbackScreen.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Header from './Header.js';\nimport '../styles/Feedback.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FeedbackScreen = () => {\n  _s();\n  const navigate = useNavigate();\n  const [rating, setRating] = useState(0);\n  const [comment, setComment] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n\n  // 處理星星評分\n  const handleStarClick = starIndex => {\n    setRating(starIndex);\n  };\n\n  // 處理評論輸入\n  const handleCommentChange = e => {\n    setComment(e.target.value);\n  };\n\n  // 處理表單提交\n  const handleSubmit = async () => {\n    if (!isButtonActive) return;\n    setIsSubmitting(true);\n    setErrorMessage('');\n    try {\n      const response = await fetch('http://localhost:8080/api/feedback', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          rating,\n          comment\n        })\n      });\n      const data = await response.json();\n      if (!response.ok) {\n        throw new Error(data.message || '提交回饋時發生錯誤');\n      }\n      console.log('提交回饋成功', data);\n      navigate('/thank-you');\n    } catch (error) {\n      console.error('提交回饋時發生錯誤：', error);\n      setErrorMessage('提交回饋時發生錯誤，請稍後再試');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  // 處理返回按鈕點擊\n  const handleBack = () => {\n    navigate(-1); // 返回上一頁\n  };\n\n  // 判斷送出按鈕是否應該變藍色\n  const isButtonActive = comment.trim().length > 0;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"feedback-screen\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      title: \"\\u4F7F\\u7528\\u56DE\\u994B\",\n      showBackButton: true,\n      onBack: handleBack\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"feedback-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rating-section\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rating-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"section-title\",\n            children: \"\\u6EFF\\u610F\\u5EA6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stars-container\",\n            children: [1, 2, 3, 4, 5].map(starIndex => /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `star ${rating >= starIndex ? 'active' : ''}`,\n              onClick: () => handleStarClick(starIndex),\n              children: \"\\u2606\"\n            }, starIndex, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comment-section\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"comment-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"section-title\",\n            children: \"\\u8A55\\u8AD6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"comment-container\",\n            children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n              className: \"comment-input\",\n              placeholder: \"\\u8ACB\\u8F38\\u5165\\u60A8\\u7684\\u8A55\\u8AD6...\",\n              value: comment,\n              onChange: handleCommentChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this), errorMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: errorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `submit-button ${isButtonActive ? 'active' : ''}`,\n        onClick: handleSubmit,\n        disabled: !isButtonActive || isSubmitting,\n        children: isSubmitting ? '提交中...' : '送出'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 9\n  }, this);\n};\n_s(FeedbackScreen, \"Y8TXBEFytlkUCNM1cja+kPXAkEA=\", false, function () {\n  return [useNavigate];\n});\n_c = FeedbackScreen;\nexport default FeedbackScreen;\nvar _c;\n$RefreshReg$(_c, \"FeedbackScreen\");","map":{"version":3,"names":["React","useState","useNavigate","Header","jsxDEV","_jsxDEV","FeedbackScreen","_s","navigate","rating","setRating","comment","setComment","isSubmitting","setIsSubmitting","errorMessage","setErrorMessage","handleStarClick","starIndex","handleCommentChange","e","target","value","handleSubmit","isButtonActive","response","fetch","method","headers","body","JSON","stringify","data","json","ok","Error","message","console","log","error","handleBack","trim","length","className","children","title","showBackButton","onBack","fileName","_jsxFileName","lineNumber","columnNumber","map","onClick","placeholder","onChange","disabled","_c","$RefreshReg$"],"sources":["/Users/johnsonleong/Desktop/DS/DS/Grade project/SinoPac_Sign_Language/永豐產學/App/src/components/FeedbackScreen.js"],"sourcesContent":["import React, {useState} from 'react';\nimport {useNavigate} from 'react-router-dom';\nimport Header from './Header.js';\nimport '../styles/Feedback.css';\n\nconst FeedbackScreen = () => {\n    const navigate = useNavigate();\n    const [ rating, setRating ] = useState(0);\n    const [ comment, setComment ] = useState('');\n    const [ isSubmitting, setIsSubmitting ] = useState(false);\n    const [ errorMessage, setErrorMessage ] = useState('');\n\n    // 處理星星評分\n    const handleStarClick = (starIndex) => {\n        setRating(starIndex);\n    };\n\n    // 處理評論輸入\n    const handleCommentChange = (e) => {\n        setComment(e.target.value);\n    };\n\n    // 處理表單提交\n    const handleSubmit = async () => {\n        if (!isButtonActive) return;\n\n        setIsSubmitting(true);\n        setErrorMessage('');\n\n        try {\n            const response = await fetch('http://localhost:8080/api/feedback', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({\n                    rating,\n                    comment\n                }),\n            });\n\n            const data = await response.json();\n\n            if (!response.ok) {\n                throw new Error(data.message || '提交回饋時發生錯誤');\n            }\n\n            console.log('提交回饋成功', data);\n            navigate('/thank-you');\n        } catch (error) {\n            console.error('提交回饋時發生錯誤：', error);\n            setErrorMessage('提交回饋時發生錯誤，請稍後再試');\n        } finally {\n            setIsSubmitting(false);\n        }\n    };\n\n    // 處理返回按鈕點擊\n    const handleBack = () => {\n        navigate(-1); // 返回上一頁\n    };\n\n    // 判斷送出按鈕是否應該變藍色\n    const isButtonActive = comment.trim().length > 0;\n\n    return (\n        <div className=\"feedback-screen\">\n            <Header title=\"使用回饋\" showBackButton={true} onBack={handleBack} />\n\n            <div className=\"feedback-container\">\n                <div className=\"rating-section\">\n                    <div className=\"rating-row\">\n                        <h2 className=\"section-title\">滿意度</h2>\n                        <div className=\"stars-container\">\n                            {[1, 2, 3, 4, 5].map((starIndex) => (\n                                <span \n                                    key={starIndex} \n                                    className={`star ${rating >= starIndex ? 'active' : ''}`}\n                                    onClick={() => handleStarClick(starIndex)}\n                                >\n                                    ☆\n                                </span>\n                            ))}\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"comment-section\">\n                    <div className=\"comment-row\">\n                        <h2 className=\"section-title\">評論</h2>\n                        <div className=\"comment-container\">\n                            <textarea \n                                className=\"comment-input\"\n                                placeholder=\"請輸入您的評論...\"\n                                value={comment}\n                                onChange={handleCommentChange}\n                            />\n                        </div>\n                    </div>\n                </div>\n\n                {errorMessage && (\n                    <div className=\"error-message\">{errorMessage}</div>\n                )}\n\n                <button \n                    className={`submit-button ${isButtonActive ? 'active' : ''}`} \n                    onClick={handleSubmit}\n                    disabled={!isButtonActive || isSubmitting}\n                >\n                    {isSubmitting ? '提交中...' : '送出'}\n                </button>\n            </div>\n        </div>\n    );\n};\n\nexport default FeedbackScreen;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}